<server>
  <include location="../fatTestPorts.xml" />

  <featureManager>
    <feature>beanValidation-1.1</feature>
    <feature>componenttest-1.0</feature>
    <feature>jaxrs-2.0</feature>
    <feature>jndi-1.0</feature>
    <feature>jpaContainer-2.1</feature>
    <feature>jsonp-1.0</feature>
    <feature>servlet-3.1</feature>
    <feature>wab-1.0</feature>
    <feature>usr:thirdPartyJPAProviders-1.0</feature>
    <feature>jdbc-4.2</feature>
  </featureManager>

  <osgiApplication location="jpaOSGiApp.eba"/>

  <library id="DerbyLib">
    <fileset dir="${shared.resource.dir}/derby" includes="*.jar"/>
  </library>

  <dataSource jndiName="jdbc/ds">
    <jdbcDriver libraryRef="DerbyLib"/>
   	<properties.derby.embedded databaseName="memory:testdb" createDatabase="create"/>
  </dataSource>
  
  <javaPermission codebase="${shared.resource.dir}/ecl/org.eclipse.persistence.core_2.6.4.v20160829-44060b6.jar" className="java.security.AllPermission"/>
  <javaPermission codebase="${shared.resource.dir}/ecl/org.eclipse.persistence.dbws_2.6.4.v20160829-44060b6.jar" className="java.security.AllPermission"/>
  <javaPermission codebase="${shared.resource.dir}/ecl/org.eclipse.persistence.jpa_2.6.4.v20160829-44060b6.jar" className="java.security.AllPermission"/>
  <javaPermission codebase="${shared.resource.dir}/ecl/org.eclipse.persistence.jpa.jpql_2.6.4.v20160829-44060b6.jar" className="java.security.AllPermission"/>
  <javaPermission codebase="${shared.resource.dir}/ecl/org.eclipse.persistence.jpa.modelgen_2.6.4.v20160829-44060b6.jar" className="java.security.AllPermission"/>
  <javaPermission codebase="${shared.resource.dir}/ecl/org.eclipse.persistence.moxy_2.6.4.v20160829-44060b6.jar" className="java.security.AllPermission"/>
  <javaPermission codebase="${shared.resource.dir}/derby/derby.jar" className="java.security.AllPermission"/>
</server>
